# ä¼šå‘˜ç­‰çº§ä½“ç³»è¯´æ˜

## ğŸ“‹ æ•°æ®åº“å®é™…å­˜å‚¨çš„ç­‰çº§å€¼

æ ¹æ®ä»£ç åˆ†æï¼Œæ•°æ®åº“ä¸­ `profiles.tier` å­—æ®µå®é™…å­˜å‚¨çš„å€¼ï¼š

1. **`guest`** - æ¸¸å®¢ï¼ˆæœªç™»å½•ç”¨æˆ·ï¼‰
2. **`explorer`** - æ¢ç´¢è€…ï¼ˆç™»å½•æ³¨å†Œä½†æœªä»˜è´¹çš„ç”¨æˆ·ï¼‰
3. **`basic`** - å¼€æ‚Ÿè€…ï¼ˆåŸºç¡€ä¼šå‘˜ï¼‰
4. **`premium`** - å¤©å‘½å¸ˆï¼ˆé«˜çº§ä¼šå‘˜ï¼‰
5. **`vip`** - ç„æœºå¤§å¸ˆï¼ˆVIPä¼šå‘˜ï¼‰

## ğŸ” ä»£ç è¯æ®

### 1. æ³¨å†Œæ—¶è®¾ç½®çš„é»˜è®¤ç­‰çº§
**æ–‡ä»¶**: `src/services/auth.service.ts` ç¬¬135è¡Œ
```typescript
'explorer', // é»˜è®¤ç­‰çº§
```

### 2. ç®¡ç†å‘˜æœåŠ¡æ”¯æŒçš„ç­‰çº§
**æ–‡ä»¶**: `src/services/admin.service.ts` ç¬¬383è¡Œ
```typescript
const validTiers = ['guest', 'explorer', 'basic', 'premium', 'vip'];
```

### 3. è®¢é˜…æœåŠ¡ä¸­çš„æ˜ å°„é€»è¾‘
**æ–‡ä»¶**: `src/services/subscription.service.ts` ç¬¬223è¡Œ
```typescript
// æ˜ å°„æ•°æ®åº“ tier å€¼åˆ°ä»£ç ä¸­çš„ Tier ç±»å‹
if (dbTier === 'guest' || dbTier === 'explorer') {
  tier = 'free';  // âš ï¸ è¿™é‡Œæœ‰é—®é¢˜ï¼šå°†æ•°æ®åº“å€¼æ˜ å°„åˆ°ä¸šåŠ¡é€»è¾‘å€¼
}
```

## âš ï¸ å‘ç°çš„é—®é¢˜

### é—®é¢˜1ï¼šç±»å‹å®šä¹‰ä¸ä¸€è‡´

**åç«¯å®šä¹‰ç±»å‹æ–‡æ¡£** (`åç«¯å®šä¹‰ç±»å‹.md`):
```typescript
export type Tier = 'free' | 'basic' | 'premium' | 'vip';
```
- âŒ ç¼ºå°‘ `guest` å’Œ `explorer`
- âŒ ä½¿ç”¨ `free` è€Œä¸æ˜¯ `explorer`

**è®¢é˜…æœåŠ¡ç±»å‹å®šä¹‰** (`src/services/subscription.service.ts`):
```typescript
export type Tier = 'free' | 'basic' | 'premium' | 'vip';
```
- âŒ ä¸æ•°æ®åº“å®é™…å€¼ä¸ä¸€è‡´
- âš ï¸ æœ‰æ˜ å°„é€»è¾‘å°† `guest`/`explorer` æ˜ å°„åˆ° `free`

**ç®¡ç†å‘˜æœåŠ¡** (`src/services/admin.service.ts`):
```typescript
const validTiers = ['guest', 'explorer', 'basic', 'premium', 'vip'];
```
- âœ… ä¸æ•°æ®åº“å®é™…å€¼ä¸€è‡´

### é—®é¢˜2ï¼šæ˜ å°„é€»è¾‘æ··ä¹±

è®¢é˜…æœåŠ¡ä¸­æœ‰å¤šå¤„å°† `guest` å’Œ `explorer` æ˜ å°„åˆ° `free` çš„é€»è¾‘ï¼Œè¿™å¯¼è‡´ï¼š
- æ•°æ®åº“å­˜å‚¨ `explorer`
- ä¸šåŠ¡é€»è¾‘ä½¿ç”¨ `free`
- å‰åç«¯ç†è§£ä¸ä¸€è‡´

## âœ… æ­£ç¡®çš„ç­‰çº§ä½“ç³»å®šä¹‰

### æ•°æ®åº“å­˜å‚¨å€¼ï¼ˆ5ä¸ªç­‰çº§ï¼‰
```typescript
type DatabaseTier = 'guest' | 'explorer' | 'basic' | 'premium' | 'vip';
```

### ç­‰çº§è¯´æ˜
1. **`guest`** - æ¸¸å®¢ï¼ˆæœªç™»å½•ç”¨æˆ·ï¼‰
2. **`explorer`** - æ¢ç´¢è€…ï¼ˆç™»å½•æ³¨å†Œä½†æœªä»˜è´¹çš„ç”¨æˆ·ï¼‰
3. **`basic`** - å¼€æ‚Ÿè€…ï¼ˆåŸºç¡€ä¼šå‘˜ï¼Œå·²ä»˜è´¹ï¼‰
4. **`premium`** - å¤©å‘½å¸ˆï¼ˆé«˜çº§ä¼šå‘˜ï¼Œå·²ä»˜è´¹ï¼‰
5. **`vip`** - ç„æœºå¤§å¸ˆï¼ˆVIPä¼šå‘˜ï¼Œå·²ä»˜è´¹ï¼‰

## ğŸ”§ éœ€è¦ä¿®å¤çš„åœ°æ–¹

### 1. æ›´æ–°åç«¯å®šä¹‰ç±»å‹æ–‡æ¡£
å°† `åç«¯å®šä¹‰ç±»å‹.md` ä¸­çš„ç±»å‹å®šä¹‰æ”¹ä¸ºï¼š
```typescript
export type Tier = 'guest' | 'explorer' | 'basic' | 'premium' | 'vip';
```

### 2. æ›´æ–°è®¢é˜…æœåŠ¡ç±»å‹å®šä¹‰
å°† `src/services/subscription.service.ts` ä¸­çš„ç±»å‹å®šä¹‰æ”¹ä¸ºï¼š
```typescript
export type Tier = 'guest' | 'explorer' | 'basic' | 'premium' | 'vip';
```

### 3. ç§»é™¤æ˜ å°„é€»è¾‘
ç§»é™¤ `subscription.service.ts` ä¸­å°† `guest`/`explorer` æ˜ å°„åˆ° `free` çš„é€»è¾‘ï¼Œç›´æ¥ä½¿ç”¨æ•°æ®åº“å€¼ã€‚

### 4. æ›´æ–°åŠŸèƒ½æƒé™é…ç½®
å°† `TIER_FEATURES` ä¸­çš„ `free` æ”¹ä¸º `explorer`ï¼š
```typescript
const TIER_FEATURES: Record<Tier, Record<string, any>> = {
  guest: { ... },      // æ¸¸å®¢æƒé™
  explorer: { ... },   // æ¢ç´¢è€…æƒé™ï¼ˆåŸ freeï¼‰
  basic: { ... },
  premium: { ... },
  vip: { ... },
};
```

## ğŸ“ æ€»ç»“

- **æ•°æ®åº“å®é™…å­˜å‚¨**: `guest`, `explorer`, `basic`, `premium`, `vip` âœ…
- **ç®¡ç†å‘˜æœåŠ¡**: å·²æ­£ç¡®æ”¯æŒæ‰€æœ‰5ä¸ªç­‰çº§ âœ…
- **è®¢é˜…æœåŠ¡**: éœ€è¦ä¿®å¤ç±»å‹å®šä¹‰å’Œç§»é™¤æ˜ å°„é€»è¾‘ âš ï¸
- **åç«¯å®šä¹‰ç±»å‹æ–‡æ¡£**: éœ€è¦æ›´æ–° âš ï¸
- **å‰ç«¯**: éœ€è¦ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„ç­‰çº§å€¼ âš ï¸
